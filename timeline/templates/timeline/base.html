<!doctype html>
<html lang="en" class="h-full">
  <head>
    <meta charset="utf-8" />
    <title>Lifelog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- HTMX -->
    <script src="https://unpkg.com/htmx.org@1.9.12" defer></script>

    <!-- Tailwind (Play CDN for dev) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              brand: {
                50:'#eff6ff',100:'#dbeafe',200:'#bfdbfe',300:'#93c5fd',400:'#60a5fa',
                500:'#3b82f6',600:'#2563eb',700:'#1d4ed8',800:'#1e40af',900:'#1e3a8a',
              }
            }
          }
        }
      }
      // Set datetime-local #timestamp to *local now* (rounded to minutes).
      window.setNow = function () {
        var el = document.getElementById('timestamp');
        if (!el) return;
        var d = new Date();
        d.setSeconds(0,0);
        var pad = n => String(n).padStart(2,'0');
        el.value = d.getFullYear() + '-' + pad(d.getMonth()+1) + '-' + pad(d.getDate()) +
                   'T' + pad(d.getHours()) + ':' + pad(d.getMinutes());
      };
      document.addEventListener('DOMContentLoaded', window.setNow);
    </script>

    <style>
      .htmx-indicator { display: none; }
      .htmx-request .htmx-indicator, [hx-request] .htmx-indicator { display: inline-flex; }
    </style>
  </head>
  <body class="h-full bg-gradient-to-br from-slate-50 to-slate-100 text-slate-900">
    <div class="max-w-4xl mx-auto px-4 py-8">
      <header class="mb-6">
        <h1 class="text-3xl font-semibold tracking-tight text-slate-900">Lifelog</h1>
        <p class="text-slate-600">Own your data. See your life.</p>
      </header>

      <div id="flash" class="mb-4"></div>

      {% block body %}{% endblock %}
    </div>
  </body>
</html>

